11/27

[파일 올리기]

컨트롤러 필요 X

글 올릴때 파일 올리기
- 원형 필요
- 공간
- 주소
- 파일 이름

- 파일 크기(size)
- 파일 형태(type)

--
파일을 올릴 때.

어디에 올릴 것인가?

실행이 됐으면 서버 어디에 올라 가는 가 ?
(실행이 된 pc = server)

어디에 저장 되는 가 (올라가는 가)
DB = ?
pile = ?

접속 허용만 되면 지정 가능 


1파일
1정보 1원본
  DB    파일	: 저장 위치
경로


서버 -> DB -> 경로.파일이름(파일) 위치를 찾아서
불러오는건 파일만 불러와 짐


usename(user Id)/파일이름
username을 써준다면 =? 경로 겹치는 걸 방지.
유저명이 있으면ㅇ 그 유저명으로 폴더를 만들어서 그 안에 파일을 만들 수 있다.

DB에 저장되어 있는 주소로 파일을 불러와서..

이름이 똑같으면 어떤 데이터를 불러와야 하는지 모르니까

[UUID]

1	2 	3	4
경로 + UUID + 파일 이름 + type

--

Board
파일이 존재하는지 아닌지 확인하는 변수 만들기 가능
T | F

게시물 저장소에
T 면(파일 있음) -> 파일 있는거고 -> 파일 저장소로가서 -> 파일을 불러옮

속도차이
확인을 할 수 있는 장치를 생성(권장)
- 있는지 없는지 확인하고 불러오는 것과
- 무조건 불러 와 놓고 널인지 아닌지를 확인하는 것과는 다름

즉, (상황에 따라 다름)
파일 리포지토리만 있으면 됨
파일 컨트롤러와 파일서비스는 필요가 없다.

--
Coulm 값(거의 필수)
--
파일크기 고정 ex) 몇 메가이상 할 수 없다 
아예 못올리게 만드는 것 == yml

or
결제한사람 50메가 이상
안한사람 이하 라면
확인해야지. 서버코드로

--
html
뷰에서 파일 받아옴
-> 컨트롤에서 받아옴
-> 서비스에서 save













