11/28

데이터를 다시 들고 오려면
뷰에서 파일클릭 -> 다운로드

링크는 전달하는 방식으로 해야 보안상 문제가 없음
(경로를 전달)

[uuid + 파일명]

uuid는 저장되어야 하니까 엔티티와 디티오 둘다있음

Dto에서 필요하다고 해서 꼭 엔티티에서 사용해야 하는 건 아님

file dto에 board를 찾아야 하기 때문에 boardId는 들고 있어야 함

** dto에 있을 필드 값이 엔티티에 있는 필드 값과 항상 같진 않아
-> 결국에는 엔티티를 사용할 것(모든 구조에서)
-> 어떻게 사용할 것이냐 에서 각각의 계층 구조가 필요 한 것

데이터를 변동하지 않고 안전하게 저장하기 위해서 엔티티에서는
Setter를 뺌 -> 데이터는 어떻게 변경해야 하는가? -> Dto이용
Dto != Entity 

코드 작성시 엔티티 중심으로

내가 DB에 저장하지 않을 데이터는 엔티티 필드에 있을 필요X

근데

요구사항에서 반드시 필요한 데이터인데 DB에 저장할 건 아니야
-> 애매한 것 == Dto에 만듦

** 어떻게, 왜? 의문 -> 해결방법
---
"@{/download/{uuid}/{filename}(uuid=${file.uuid}, filename=${file.fileName})}"
uuid 파일이름은 파일마다 틀림

--
파일 다운로드 부터는 (그 긴.. uri)
RESTful api

--
파일 다운
보통은 uuid 바꿔서 출력?되나?

--
글작성 -> 파일 DB에 저장 됨

뷰의 다운로드 버튼을 누르면
/download/{uuid}/{filename} 이 경로로 이동해라

이동하면
-> 컨트롤러의 @GetMapping("/download/{uuid}/{fileName}") 이동
-> 파일이 있으면 뜰거고 없으면 404






